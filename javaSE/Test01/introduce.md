### 面向对象
#### 封装与继承

**封装**

在面向对象程式设计方法中，封装（英语：Encapsulation）是指一种将抽象性函式接口的实现细节部分包装、隐藏起来的方法。

封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。

要访问该类的代码和数据，必须通过严格的接口控制。

封装最主要的功能在于我们能修改自己的实现代码，而不用修改那些调用我们代码的程序片段。

适当的封装可以让程式码更容易理解与维护，也加强了程式码的安全性。

封装的优点

1. 良好的封装能够减少耦合。

2. 类内部的结构可以自由修改。

3. 可以对成员变量进行更精确的控制。

4. 隐藏信息，实现细节。

封装一般将类成员变量的访问权限限制为`private`。

**权限修饰符**

public: 所有的包和类均可访问

protected: 同一个包下的类以及在其他包下的子类可以访问

default: 同一个包下的类可以访问

private: 只有本类可以访问

**继承**

继承是一种联结类的层次模型。在Java中，类的继承是单一继承，即一个子类只能有一个父类，但一个父类可以有多个子类。

Java不支持多重继承，但支持多层继承，即一个类可以有一个父类，父类又可以有自己的父类。

Java继承的特点

1. 子类拥有父类非 private 的属性、方法。

2. 子类可以拥有自己的属性和方法，即子类可以对父类进行扩展。

3. 子类可以用自己的方式实现父类的方法。

4. Java 的继承是单继承，一个类只有一个父类，不支持多继承。

5. 提高了类之间的耦合性（继承的缺点，耦合度高就会造成代码之间的联系越紧密，代码独立性越差）。

6. 重写父类的方法，就是子类实现自己的业务逻辑，不再使用父类的。

7. 继承的本质是将父类的数据成员和成员函数复制到子类中去，当然子类也可以重新定义自己的数据成员和成员函数。

8. Java 的类没有父类都默认继承自 java.lang.Object 类。

相比 C++ 的多继承，Java 的单继承有一个明显的好处：避免了菱形继承的二义性。

另外 C++ 的继承只会进一步限制派生类的访问权限，而 Java 的继承却可以扩大派生类的访问权限。

关于Java继承为什么要设计成子类权限大于等于父类权限，可以参考内含里氏替换原则的这篇文章：[为何Java中子类重写方法的访问权限不能低于父类中权限](https://www.cnblogs.com/ltycomeon/p/13532478.html)

**super关键字**

super 关键字主要有三种用法：

1. 在子类的成员方法中，访问父类的成员变量。

2. 在子类的成员方法中，访问父类的成员方法。

3. 在子类的构造方法中，访问父类的构造方法。

**重写**

重写（Override）和重载（Overload）是 Java 多态性的不同表现，重写是父类与子类之间多态性的一种表现，重载可以理解成多态的具体表现形式。

重写的规则

1. 参数列表必须完全与被重写方法的相同。

2. 返回类型必须完全与被重写方法的返回类型相同。

3. 子类方法的访问权限必须大于等于父类方法的访问权限。

4. 父类的成员方法只能被它的子类重写。

5. 声明为 final 的方法不能被重写。

6. 声明为 static 的方法不能被重写，但是能够被再次声明。

7. 子类和父类在同一个包中，那么子类可以重写父类所有方法，除了声明为 private 和 final 的方法。

8. 子类和父类不在同一个包中，那么子类只能够重写父类的声明为 public 和 protected 的非 final 方法。

9. 重写的方法能够抛出任何非强制异常，无论被重写的方法是否抛出异常。但是，重写的方法不能抛出新的强制性异常，或者比被重写方法声明的更广泛的强制性异常。例如：父类的一个方法声明了一个检查异常 IOException，但是在重写这个方法的时候不能抛出 Exception 异常，因为 Exception 是 IOException 的父类，只能抛出 IOException 的子类异常。

10. 构造方法不能被重写。

11. 如果不能继承一个类，则不能重写该类的方法。

**重载**

重载（Overload）是在一个类里面，方法名字相同，而参数不同。返回类型呢？可以相同也可以不同。

每个重载的方法（或者构造函数）都必须有一个独一无二的参数类型列表。

最常用的地方就是构造器的重载。

重载规则

1. 被重载的方法必须改变参数列表(参数个数或类型不一样)；

2. 被重载的方法可以改变返回类型；

3. 被重载的方法可以改变访问修饰符；

4. 被重载的方法可以声明新的或更广的检查异常；

5. 方法能够在同一个类中或者在一个子类中被重载。

6. 无法以返回值类型作为重载函数的区分标准。

